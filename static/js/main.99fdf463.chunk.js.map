{"version":3,"sources":["redux/phonebook/phonebook-actions.js","redux/auth/auth-operations.js","redux/auth/auth-selectors.js","redux/auth/auth-slice.js","components/Navigation/Navigation.jsx","components/UserMenu/UserMenu.jsx","images/default-avatar.png","components/AuthNav/AuthNav.jsx","components/AppBar/AppBar.jsx","PrivateRoute.js","PublicRoute.js","components/App/App.js","redux/store.js","index.js","components/UserMenu/UserMenu.module.css","redux/phonebook/selector.js","redux/phonebook/phonebook-reducer.js","components/Conteiner/Container.js","redux/phonebook/phonebook-operations.js","components/Conteiner/Container.module.css","components/App/App.module.css"],"names":["fetchContactRequest","createAction","fetchContactSuccess","fetchContactError","addContactRequest","addContactSuccess","addContactError","deleteContactRequest","deleteContactSuccess","deleteContactError","changeFilter","axios","defaults","baseURL","token","headers","common","Authorization","register","createAsyncThunk","credentials","a","post","data","logIn","logOut","fetchCurrentUser","_","thunkAPI","state","getState","persistedToken","auth","rejectWithValue","get","operations","authSelectors","getIsLoggedIn","isLoggedIn","getUsername","user","name","getFetchingUser","isFetchingCurrentUser","authSlice","createSlice","initialState","email","extraReducers","authOperations","fulfilled","action","payload","pending","rejected","styles","link","display","textDecoration","padding","fontWeight","color","activeLink","Navigation","useSelector","to","exact","style","activeStyle","UserMenu","dispatch","useDispatch","className","s","container","src","alt","width","avatar","login","Button","variant","type","onClick","AuthNav","header","justifyContent","alignItems","borderBottom","AppBar","PrivateRoute","children","redirectTo","routeProps","PublicRoute","restricted","shouldRedirect","HomeView","lazy","LoginView","RegisterView","ContactsView","App","isFenchingCurrentUser","useEffect","Container","fallback","height","path","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","logger","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","persistReducer","authReducer","contacts","phonebookReducer","devTools","persistor","persistStore","ReactDOM","render","StrictMode","loading","document","getElementById","module","exports","getContacts","items","getFilter","filter","getVisibleContacts","createSelector","normilizedFilter","toLowerCase","contact","includes","contactsSelector","getLoading","createReducer","id","combineReducers","baseUrl","deleteContact","contactId","delete","contactsOperation","fetchContacts","addContact","number"],"mappings":"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","file":"static/js/main.99fdf463.chunk.js","sourcesContent":["import { createAction } from \"@reduxjs/toolkit\";\r\n\r\nexport const fetchContactRequest = createAction('phonebook/fetchContactRequest');\r\nexport const fetchContactSuccess = createAction('phonebook/fetchContactSuccess');\r\nexport const fetchContactError = createAction('phonebook/fetchContactError');\r\n\r\nexport const addContactRequest = createAction('phonebook/addContactRequest');\r\nexport const addContactSuccess = createAction('phonebook/addContactSuccess');\r\nexport const addContactError = createAction('phonebook/addContactError');\r\n\r\nexport const deleteContactRequest = createAction('phonebook/deleteContactRequest');\r\nexport const deleteContactSuccess = createAction('phonebook/deleteContactSuccess');\r\nexport const deleteContactError = createAction('phonebook/deleteContactError');\r\n\r\nexport const changeFilter = createAction('app/changeFilter');","import axios from 'axios';\r\nimport { createAsyncThunk } from '@reduxjs/toolkit';\r\n\r\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = '';\r\n  },\r\n};\r\n\r\n/*\r\n * POST @ /users/signup\r\n * body: { name, email, password }\r\n * После успешной регистрации добавляем токен в HTTP-заголовок\r\n */\r\nconst register = createAsyncThunk('auth/register', async credentials => {\r\n  try {\r\n    const { data } = await axios.post('/users/signup', credentials);\r\n    token.set(data.token);\r\n    return data;\r\n  } catch (error) {\r\n    // TODO: Добавить обработку ошибки error.message\r\n  }\r\n});\r\n\r\n/*\r\n * POST @ /users/login\r\n * body: { email, password }\r\n * После успешного логина добавляем токен в HTTP-заголовок\r\n */\r\nconst logIn = createAsyncThunk('auth/login', async credentials => {\r\n  try {\r\n    const { data } = await axios.post('/users/login', credentials);\r\n    token.set(data.token);\r\n    return data;\r\n  } catch (error) {\r\n    // TODO: Добавить обработку ошибки error.message\r\n  }\r\n});\r\n\r\n/*\r\n * POST @ /users/logout\r\n * headers: Authorization: Bearer token\r\n * После успешного логаута, удаляем токен из HTTP-заголовка\r\n */\r\nconst logOut = createAsyncThunk('auth/logout', async () => {\r\n  try {\r\n    await axios.post('/users/logout');\r\n    token.unset();\r\n  } catch (error) {\r\n    // TODO: Добавить обработку ошибки error.message\r\n  }\r\n});\r\n/*\r\n * GET @ /users/current\r\n * headers:\r\n *    Authorization: Bearer token\r\n *\r\n * 1. Забираем токен из стейта через getState()\r\n * 2. Если токена нет, выходим не выполняя никаких операций\r\n * 3. Если токен есть, добавляет его в HTTP-заголовок и выполянем операцию\r\n */\r\nconst fetchCurrentUser = createAsyncThunk(\r\n  'auth/refresh',\r\n  async (_, thunkAPI) => {\r\n    const state = thunkAPI.getState();\r\n    const persistedToken = state.auth.token;\r\n\r\n    if (persistedToken === null) {\r\n      return thunkAPI.rejectWithValue();\r\n    }\r\n\r\n    token.set(persistedToken);\r\n    try {\r\n      const { data } = await axios.get('/users/current');\r\n      return data;\r\n    } catch (error) {\r\n      // TODO: Добавить обработку ошибки error.message\r\n    }\r\n  },\r\n);\r\n\r\nconst operations = {\r\n  register,\r\n  logOut,\r\n  logIn,\r\n  fetchCurrentUser,\r\n};\r\n\r\nexport default operations;","const getIsLoggedIn = state => state.auth.isLoggedIn;\r\n\r\nconst getUsername = state => state.auth.user.name;\r\nconst getFetchingUser = state => state.auth.isFetchingCurrentUser;\r\n\r\nconst authSelectors = {\r\n  getIsLoggedIn,\r\n  getUsername,\r\n  getFetchingUser,\r\n};\r\nexport default authSelectors;","import { createSlice } from '@reduxjs/toolkit';\r\nimport { authSelectors } from '.';\r\nimport authOperations  from './auth-operations';\r\n\r\nconst initialState = {\r\n    user: { name: null, email: null },\r\n    token: null,\r\n    isLoggedIn: false,\r\n    isFetchingCurrentUser: false,\r\n};\r\n\r\nconst authSlice = createSlice({\r\n    name: 'auth',\r\n    initialState,\r\n    extraReducers: {\r\n        [authOperations.register.fulfilled](state, action) {\r\n            state.user = action.payload.user;\r\n            state.token = action.payload.token;\r\n            state.isLoggedIn = true;\r\n        },\r\n        [authOperations.logIn.fulfilled](state, action) {\r\n            state.user = action.payload.user;\r\n            state.token = action.payload.token;\r\n            state.isLoggedIn = true;\r\n        },\r\n        [authOperations.logOut.fulfilled](state, action) {\r\n            state.user = { name: null, email: null };\r\n            state.token = null;\r\n            state.isLoggedIn = false;\r\n        },\r\n        [authOperations.fetchCurrentUser.pending](state) {\r\n            state.isFetchingCurrentUser = true;\r\n        },\r\n        [authOperations.fetchCurrentUser.fulfilled](state, action) {\r\n            state.user = action.payload;\r\n            state.isLoggedIn = true;\r\n            state.isFetchingCurrentUser = false\r\n        },\r\n        [authOperations.fetchCurrentUser.rejected](state) {\r\n            state.isFetchingCurrentUser = false\r\n        },\r\n    },\r\n});\r\n\r\nexport default authSlice.reducer;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { authSelectors } from '../../redux/auth'\r\n\r\n\r\nconst styles = {\r\n  link: {\r\n    display: 'inline-block',\r\n    textDecoration: 'none',\r\n    padding: 12,\r\n    fontWeight: 700,\r\n    color: '#FFFFFF',\r\n  },\r\n  activeLink: {\r\n    color: '#E84A5F',\r\n  },\r\n};\r\n\r\nexport default function Navigation() {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  return (\r\n    <nav>\r\n      <NavLink to=\"/\" exact style={styles.link} activeStyle={styles.activeLink}>\r\n        HomePage\r\n      </NavLink>\r\n\r\n      {isLoggedIn && (<NavLink\r\n        to=\"/contacts\"\r\n        exact\r\n        style={styles.link}\r\n        activeStyle={styles.activeLink}\r\n      >\r\n        Contacts\r\n      </NavLink>\r\n      )}\r\n    </nav>\r\n  )\r\n}","import { useDispatch, useSelector } from 'react-redux';\r\nimport { authSelectors, authOperations } from '../../redux/auth';\r\nimport Button from '@mui/material/Button';\r\nimport s from './UserMenu.module.css';\r\nimport defaultAvatar from '../../images/default-avatar.png'\r\n\r\n\r\nexport default function UserMenu() {\r\n  const dispatch = useDispatch();\r\n  const name = useSelector(authSelectors.getUsername);\r\n  const avatar = defaultAvatar;\r\n\r\n  return (\r\n    <div className={s.container}>\r\n      <img src={avatar} alt=\"\" width=\"32\" className={s.avatar} />\r\n      <span className={s.name}>  <span className={s.login}>Login</span> {name}</span>\r\n       <Button variant=\"contained\"  type=\"button\" onClick={() => dispatch(authOperations.logOut())}>LogOut</Button>\r\n    </div>\r\n  );\r\n}","export default \"data:image/png;base64,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\"","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\n\r\n\r\nconst styles = {\r\n  link: {\r\n    display: 'inline-block',\r\n    textDecoration: 'none',\r\n    padding: 12,\r\n    fontWeight: 700,\r\n    color: '#FFFFFF',\r\n  },\r\n  activeLink: {\r\n    color: '#E84A5F',\r\n  },\r\n};\r\n\r\nexport default function AuthNav() {\r\n  return (\r\n    <div>\r\n      <NavLink\r\n        to=\"/register\"\r\n        exact\r\n        style={styles.link}\r\n        activeStyle={styles.activeLink}\r\n      >\r\n        Register\r\n      </NavLink>\r\n      <NavLink\r\n        to=\"/login\"\r\n        exact\r\n        style={styles.link}\r\n        activeStyle={styles.activeLink}\r\n      >\r\n        Login\r\n      </NavLink>\r\n    </div>\r\n  )\r\n}","import { useSelector } from 'react-redux';\r\nimport Navigation from '../Navigation';\r\nimport UserMenu from '../UserMenu';\r\nimport AuthNav from '../AuthNav';\r\nimport { authSelectors } from '../../redux/auth';\r\n\r\nconst styles = {\r\n  header: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    borderBottom: '1px solid #2A363B',\r\n  },\r\n};\r\n\r\nexport default function AppBar() {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  return (\r\n    <header style={styles.header}>\r\n      <Navigation />\r\n      {isLoggedIn ? <UserMenu /> : <AuthNav />}\r\n    </header>\r\n  );\r\n}\r\n\r\n","import { useSelector } from \"react-redux\";\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { authSelectors } from \"./redux/auth\";\r\n\r\nexport default function PrivateRoute({ children, redirectTo ='/', ...routeProps}) {\r\n    const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n    return (\r\n        <Route {...routeProps}>\r\n            {isLoggedIn ? children : <Redirect to={redirectTo} />}\r\n        </Route>\r\n    );\r\n    \r\n}","import { useSelector } from \"react-redux\";\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { authSelectors } from \"./redux/auth\";\r\n\r\nexport default function PublicRoute({ children, restricted = false, redirectTo='/' , ...routeProps }) {\r\n    const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n    const shouldRedirect = isLoggedIn && restricted;\r\n    return (\r\n        <Route {...routeProps}>{shouldRedirect ? <Redirect to={ redirectTo}/> : children}\r\n        </Route>\r\n    )\r\n}","\n\nimport Container from '../Conteiner/Container';\nimport {useEffect,Suspense,lazy} from 'react'\nimport { Route , Switch} from 'react-router-dom';\nimport s from './App.module.css';\nimport AppBar from '../../components/AppBar';\nimport { authOperations,authSelectors } from '../../redux/auth';\nimport { useDispatch,useSelector  } from 'react-redux';\nimport PrivateRoute from '../../PrivateRoute'\nimport PublicRoute from '../../PublicRoute';\nimport Loader from 'react-loader-spinner';\n\nconst HomeView = lazy(() => import('../../Views/HomeView'));\nconst LoginView = lazy(() => import('../../Views/LoginView'));\nconst RegisterView = lazy(() => import('../../Views/RegisterView'));\nconst ContactsView = lazy(() => import('../../Views/ContactsView'));\n\n\n\n\nexport default function App() {\n\n  const dispatch = useDispatch();\n  const isFenchingCurrentUser = useSelector(authSelectors.getFetchingUser)\n\n  useEffect(() => {\n    dispatch(authOperations.fetchCurrentUser());\n  }, [dispatch]);\n  return (\n    !isFenchingCurrentUser && ( <Container>\n      <AppBar />\n      <Switch>\n        <Suspense fallback={<Loader\n                                type=\"ThreeDots\"\n                                color=\"#ffffff\"\n                                height={35}\n                                width={35}\n                            />}>\n          <PublicRoute exact path=\"/\">\n          <HomeView/>\n          </PublicRoute>\n          <PublicRoute  exact path=\"/login\" restricted redirectTo='/contacts'>\n          <LoginView/>\n          </PublicRoute>\n          <PublicRoute  exact path=\"/register\" restricted>\n          <RegisterView/>\n        </PublicRoute>\n        <PrivateRoute path=\"/contacts\" redirectTo='/login'>\n          <ContactsView/>\n        </PrivateRoute>\n        </Suspense>\n    </Switch>\n      </Container>\n  ))\n}\n\n\n\n\n","\r\nimport { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\";\r\nimport {\r\n  persistStore,\r\n  persistReducer, \r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\nimport{phonebookReducer} from './phonebook'\r\nimport { authReducer } from './auth';\r\nimport logger from 'redux-logger';\r\n\r\nconst middleware = [\r\n  ...getDefaultMiddleware({\r\n    serializableCheck: {\r\n    ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n  logger,\r\n];\r\n\r\nconst authPersistConfig = {\r\n    key: 'auth',\r\n    storage,\r\n    whitelist: ['token'],\r\n};\r\n\r\n\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    auth: persistReducer(authPersistConfig, authReducer),\r\n    contacts: phonebookReducer,\r\n  },\r\n  middleware,\r\n  devTools: true,\r\n})\r\nexport const persistor = persistStore(store);\r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App'\nimport { Provider } from 'react-redux'\nimport {store, persistor} from './redux/store';\nimport { BrowserRouter } from 'react-router-dom';\nimport { PersistGate } from 'redux-persist/es/integration/react'\n\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <BrowserRouter>\n    <App />\n  \n      </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UserMenu_container__ctstM\",\"avatar\":\"UserMenu_avatar__JoNLS\",\"name\":\"UserMenu_name__5tMRa\",\"login\":\"UserMenu_login__a3naY\"};","import {createSelector} from '@reduxjs/toolkit'\r\n\r\n const getContacts = state => state.contacts.items;\r\nconst getFilter = state => state.contacts.filter;\r\n const getLoading = state => state.contacts.loading;\r\n\r\n const getVisibleContacts = createSelector(\r\n    [getContacts, getFilter],\r\n    (contacts, filter) => {\r\n        const normilizedFilter = filter.toLowerCase();\r\n        return contacts.filter(contact =>\r\n            contact.name.toLowerCase().includes(normilizedFilter));\r\n    }\r\n)\r\n\r\nconst contactsSelector = {\r\n    getContacts,getFilter,getVisibleContacts,getLoading\r\n}\r\n export default contactsSelector","import { createReducer } from \"@reduxjs/toolkit\";\r\nimport {addContactSuccess,deleteContactSuccess,fetchContactSuccess,changeFilter } from './phonebook-actions';\r\nimport { combineReducers } from \"redux\";\r\n\r\nconst items = createReducer([], {\r\n    [fetchContactSuccess]: (_, { payload }) =>payload,\r\n    [deleteContactSuccess]: (state, {payload}) =>\r\n        state.filter(({ id }) => id !== payload),\r\n    [addContactSuccess]:(state, {payload}) => [payload, ...state],\r\n});\r\n\r\nconst filter = createReducer('', {\r\n    [changeFilter]: (_, { payload }) => payload\r\n});\r\n\r\n\r\nexport default combineReducers({\r\n    items,\r\n    filter\r\n})\r\n","import PropTypes from 'prop-types';\r\nimport styles from './Container.module.css';\r\n\r\nfunction Container({ children }) {\r\n  return <div className={styles.Container}>{children}</div>;\r\n}\r\n\r\nContainer.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport default Container;","import axios from \"axios\";\r\nimport { addContactRequest,\r\n    addContactSuccess,\r\n    addContactError,\r\n    deleteContactRequest,\r\n    deleteContactSuccess,\r\n    deleteContactError,\r\n    fetchContactRequest,\r\n    fetchContactSuccess,\r\n    fetchContactError\r\n} from \"./phonebook-actions\";\r\n    \r\n\r\n\r\n\r\naxios.defaults.baseUrl = 'http://localhost:4040';\r\n\r\nexport const fetchContacts = () => async dispatch => {\r\n    dispatch(fetchContactRequest);\r\n    try {\r\n        const { data } = await axios.get('/contacts');\r\n        dispatch(fetchContactSuccess(data))\r\n    } catch (error) {\r\n        dispatch(fetchContactError(error))\r\n    }\r\n}\r\n\r\n\r\nexport const addContact = ( name, number ) => async dispatch => {\r\n    const contact = {\r\n        name, number\r\n    }\r\n    dispatch(addContactRequest());\r\n    try {\r\n        const { data } = await axios.post('/contacts', contact);\r\n        dispatch(addContactSuccess(data))\r\n    }\r\n    catch (error) {\r\n        dispatch(addContactError(error))\r\n    }\r\n}\r\n\r\nexport const deleteContact = contactId => async dispatch => {\r\n    dispatch(deleteContactRequest());\r\n    try {\r\n        const res = await axios.delete(`/contacts/${contactId}`);\r\n        dispatch(deleteContactSuccess(contactId))\r\n    }\r\n    catch (error) {\r\n        dispatch(deleteContactError(error))\r\n    }\r\n}\r\n\r\nconst contactsOperation = {\r\n    fetchContacts,addContact,deleteContact\r\n}\r\nexport default contactsOperation","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container__23ZGZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"App_label__2zcfn\"};"],"sourceRoot":""}